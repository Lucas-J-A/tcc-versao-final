<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Aula </title>

    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/font-awesome-animation.css" rel="stylesheet" />
    <link href="assets/css/prettyPhoto.css" rel="stylesheet" />
    <link href="assets/css/style.css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
</head>

<body>
    <!-- NAV SECTION -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">O.A Lógica</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="Aula.html">Aulas</a></li>
                    <li><a href="Calculadora.html">Calculadora</a></li>
                    <li><a href="Gerador.html">Exercícios</a></li>
                    <li><a href="Contato.html">Contato</a></li>
                </ul>
            </div>

        </div>
    </div>
    <!--END NAV SECTION -->


    <section id="services-sec">
        <div class="container">
            <div class="row ">
                <div class="text-center g-pad-bottom">
                    <div class="col-md-10 col-sm-12 alert-info col-md-offset-1">
                        <h4><i class="fa fa-pencil fa-2x" ></i>&nbsp;Gerador de Exercícios</h4>
                        <p>
                            Vamos Exercitar
                        </p>

                    </div>



                </div>
            </div>
        </div>
        <div class="container">
            <div class="row go-marg">
                <div class="col-md-8  col-md-offset-2 text-center">
                    <div class="panel panel-default">

                        <div class="panel-body borda">

                            <div id="calculadora">

                                <div>
                                    <p id="questao"></p>
                                </div>

                            </div>


                            <div>
                                <p id="informa"></p>
                            </div>

                            <div class="form-group">
                                <form class="form-inline" id="form1" name="form1" method="post">
                                    <input name="alternativas" type="radio" id="alternativaV" value="v">Verdadeira

                                    <input name="alternativas" type="radio" id="alternativaF" value="f">Falsa

                                </form>
                                <br>



                                <input name="button" type="button" onclick="corrige(prep)" value="Responder" class="btn btn-primary">
                                <input name="button" type="button" onclick="geraExe()" value="Pular questão" class="btn btn-primary">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </section>


    <div id="footer">
        Copyright 2016 TCC ©

    </div>

    <script src="assets/plugins/jquery.js"></script>
    <script src="assets/plugins/bootstrap.min.js"></script>
    <script src="assets/plugins/jquery.isotope.min.js"></script>
    <script src="assets/plugins/jquery.prettyPhoto.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/plugins/bootbox.min.js"></script>
    <script type="text/javascript">
        var prep;
        var p, q, r, s;

        window.onload = function() {
            geraExe();
        }

        function geraExe() {
            var expressao = gera();
            var questao = "A expressão '";

            questao += expressao[0] + "'";
            questao += " gera um resultado verdadeiro ou falso?";

            document.getElementById("questao").innerHTML = questao;
            document.getElementById("informa").innerHTML = expressao[1];

        }

        function booAle() {
            var x;
            if (Math.floor(Math.random() * 2) == 1)
                x = true;
            else
                x = false;

            return x;
        }

        function opAle() {
            var x;
            if (Math.floor(Math.random() * 3) == 0)
                x = "v";
            else if (Math.floor(Math.random() * 3) == 1)
                x = "&";
            else
                x = ">";

            return x;
        }

        function gera() {
            var qtde = Math.floor(Math.random() * 4) + 1;
            if (qtde == 1) qtde++;
            var x;
            var op1, op2, op3;
            var expressao;
            var infos;
            var resultado;

            //Expressão com 2 preposições
            if (qtde == 2) {
                op1 = opAle();

                x = booAle();
                p = ["P", x];
                x = booAle();
                q = ["Q", x];

                expressao = "(";
                expressao += p[0];
                expressao += op1;
                expressao += q[0];
                expressao += ")";

                infos = "P > "
                infos += "" + p[1] + "<br>";
                infos += "Q > "
                infos += "" + q[1] + "<br>";
            }

            //Expressão com 3 preposições
            else if (qtde == 3) {
                op1 = opAle();
                op2 = opAle();

                x = booAle();
                p = ["P", x];
                x = booAle();
                q = ["Q", x];
                x = booAle();
                r = ["R", x];

                expressao = "((";
                expressao += p[0];
                expressao += op1;
                expressao += q[0];
                expressao += ")";
                expressao += op2;
                expressao += r[0];
                expressao += ")";

                infos = "P > "
                infos += "" + p[1] + "<br>";
                infos += "Q > "
                infos += "" + q[1] + "<br>";
                infos += "R > "
                infos += "" + r[1] + "<br>";
            }

            //Expressão com 4 preposições
            else if (qtde == 4) {
                op1 = opAle();
                op2 = opAle();
                op3 = opAle();

                x = booAle();
                p = ["P", x];
                x = booAle();
                q = ["Q", x];
                x = booAle();
                r = ["R", x];
                x = booAle();
                s = ["S", x];

                expressao = "(((";
                expressao += p[0];
                expressao += op1;
                expressao += q[0];
                expressao += ")";
                expressao += op2;
                expressao += r[0];
                expressao += ")";
                expressao += op3;
                expressao += s[0];
                expressao += ")";

                infos = "P > "
                infos += "" + p[1] + "<br>";
                infos += "Q > "
                infos += "" + q[1] + "<br>";
                infos += "R > "
                infos += "" + r[1] + "<br>"
                infos += "S > "
                infos += "" + s[1] + "<br>";
            }

            prep = expressao.replace("(", "");
            prep = prep.replace("(", "");
            prep = prep.replace("(", "");
            prep = prep.replace(")", "");
            prep = prep.replace(")", "");
            prep = prep.replace(")", "");

            resultado = [expressao, infos];
            return resultado;
        }

        function simplifica(exp) {
            //OU 
            if (exp.charAt(1) == "v") {
                if (p[1] == false & q[1] == false)
                    return "f";
                else return "v";

            }

            //E
            else if (exp.charAt(1) == "&") {
                if (p[1] == true & q[1] == true)
                    return "v";
                else return "f";

            }

            //CONDICIONAL
            else {
                if (p[1] == true & q[1] == false)
                    return "f";
                else return "v";

            }

        }

        function simplifica2(exp) {
            //OU 
            if (exp.charAt(1) == "v") {
                if (exp.charAt(0) == "f" & r[1] == false)
                    return "f";
                else return "v";

            }

            //E
            else if (exp.charAt(1) == "&") {
                if (exp.charAt(0) == "v" & r[1] == true)
                    return "v";
                else return "f";

            }

            //CONDICIONAL
            else {
                if (exp.charAt(0) == "v" & r[1] == false)
                    return "f";
                else return "v";

            }

        }

        function simplifica3(exp) {
            //OU 
            if (exp.charAt(1) == "v") {
                if (exp.charAt(0) == "f" & s[1] == false)
                    return "f";
                else return "v";

            }

            //E
            else if (exp.charAt(1) == "&") {
                if (exp.charAt(0) == "v" & s[1] == true)
                    return "v";
                else return "f";

            }

            //CONDICIONAL
            else {
                if (exp.charAt(0) == "v" & s[1] == false)
                    return "f";
                else return "v";

            }

        }

        function corrige(exp) {
            var temp;
            //TAMANHO 3    pVq
            if (exp.length == 3) {
                exp = simplifica(exp);

                if (document.getElementById("alternativaV").checked & exp == "v")
                    bootbox.alert("Acertou!");
                else if (document.getElementById("alternativaF").checked & exp == "f")
                    bootbox.alert("Acertou!");
                else
                    bootbox.alert("Errou!");
            }


            //TAMANHO 5    pVqVr
            else if (exp.length == 5) {
                exp = simplifica(exp.substring(0, 3)) + exp.substring(3, 5);
                exp = simplifica2(exp);

                if (document.getElementById("alternativaV").checked & exp == "v")
                    bootbox.alert("Acertou!");
                else if (document.getElementById("alternativaF").checked & exp == "f")
                    bootbox.alert("Acertou!");
                else bootbox.alert("Errou!");
            }


            //TAMANHO 7   pVqVrvS 
            else {
                exp = simplifica(exp.substring(0, 3)) + exp.substring(3, 7);
                exp = simplifica2(exp.substring(0, 3)) + exp.substring(3, 5);
                exp = simplifica3(exp);

                if (document.getElementById("alternativaV").checked & exp == "v")
                    bootbox.alert("Acertou!");
                else if (document.getElementById("alternativaF").checked & exp == "f")
                    bootbox.alert("Acertou!");
                else bootbox.alert("Errou!");

            }

        }

    </script>
</body>

</html>
